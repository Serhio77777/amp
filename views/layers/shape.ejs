<% function getStyles(settings) {
  let styles = ''
  if (settings) {
    if (settings.margin) {
      if (['1', '3', '13', '15', '2', '5', '11', '14'].includes(settings.position)) {
        if (['1', '2', '3', '5'].includes(settings.position)) {
          styles += `top:${settings.margin}px;`;
        } else if (['11', '13', '14', '15'].includes(settings.position)) {
          styles += `top:${-settings.margin}px;`;
        }
      }
      if (['1', '4', '7', '10', '13'].includes(settings.position)) {
        styles += `left:${settings.margin}px;`;
      }
      if (['3', '6', '9', '12', '15'].includes(settings.position)) {
        styles += `right:${settings.margin}px;`;
      }
    }
    if (settings.opacity) {
      styles += `opacity:${settings.opacity / 100};`
    }
    if (settings.rotate) {
      styles += `transform:rotate(${settings.rotate}deg);`
    }
  }
  return styles
} %>
<div
<% if (layer.settings.animateIn && !preview){ %>
  animate-in="<%= layer.settings.animateIn %>"
        <% } %>
<% if (layer.settings.animateDuration){ %>
  animate-in-duration="<%= layer.settings.animateDuration %>s"
        <% } %>
<% if (layer.settings.animateDelay){ %>
  animate-in-delay="<%= layer.settings.animateDelay %>s"
        <% } %>
  class="<%= layer.settings.generalSettings.position ? `item position${layer.settings.generalSettings.position}` : 'item position8' %>"
  style="z-index: <%= layer.position %>;">
  <div
  <% if (['5', '8', '11'].includes(layer.settings.generalSettings.position)) { %>
    style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"
  <% } else if (['2', '14'].includes(layer.settings.generalSettings.position)) { %>
    style="position:absolute;<%= layer.settings.generalSettings.position === '2' ? 'top:0' : 'bottom:0' %>;left:50%;transform:translate(-50%,0);"
  <% } else if (['4', '7', '10'].includes(layer.settings.generalSettings.position)) { %>
    style="position:absolute;top:50%;left:0;transform:translate(0,-50%);"
  <% } else if (['6', '9', '12'].includes(layer.settings.generalSettings.position)) { %>
    style="position:absolute;top:50%;right:0;transform:translate(0,-50%);"
  <% } else if (['1', '3'].includes(layer.settings.generalSettings.position)) { %>
    style="position:absolute;top:0;<%= layer.settings.generalSettings.position === '1' ? 'left:0' : 'right:0' %>;transform:translate(0,0);"
  <% } else if (['13', '15'].includes(layer.settings.generalSettings.position)) { %>
    style="position:absolute;bottom:0;<%= layer.settings.generalSettings.position === '13' ? 'left:0' : 'right:0' %>;transform:translate(0,0)"
          <% } %>
  >
    <div
            id="shape<%= layer.settings.generalSettings.position ? layer.settings.generalSettings.position : '' %>"
            style="<%= getStyles(layer.settings.generalSettings)%>; text-align: center; position: relative;">
      <div
              class="<%= layer.content.value %><%= page ? page.position : currentSlide.position %><%= layer.position %>"
              style="display:flex;justify-content:center;align-items:center;"
      >
        <% if (layer.content.value === 'square') { %>
          <%- include ../shapes/square.ejs %>
        <% } else if (layer.content.value === 'circle') { %>
          <%- include ../shapes/circle.ejs %>
        <% } else if (layer.content.value === 'triangle') { %>
          <%- include ../shapes/triangle.ejs %>
        <% } else if (layer.content.value === 'line') { %>
          <%- include ../shapes/line.ejs %>
        <% } %>
      </div>
    </div>
  </div>
</div>
