<%let preview = false;
ampStory.cuts.map(page => { %>
  <amp-story-page
          id="<%= page.position %>"
          auto-advance-after="10s"
          style="background: #eeeeee">
    <% page.layers.sort((first, second) => {
      var keyA = first.position,
              keyB = second.position;
      if(keyA < keyB) return -1;
      if(keyA > keyB) return 1;
      return 0;
    }) %>
    <% page && page.layers && page.layers.map((layer, layerIndex) => { %>
      <amp-story-grid-layer template="fill">
        <div>
          <div class="grid">
            <% switch (layer.type) {
            case 'text': %>
            <% include layers/text.ejs %>
            <% break;
            case 'html': %>
            <% include layers/text.ejs %>
            <% break;
            case 'shape': %>
            <% include layers/shape.ejs %>
            <% break;
            case 'image': %>
            <% include layers/image.ejs %>
            <% break
            case 'video': %>
            <% include layers/video.ejs %>
            <% break
            } %>
          </div>
        </div>
      </amp-story-grid-layer>
    <% }) %>
  </amp-story-page>
<% }) %>
